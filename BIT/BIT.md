# 树状数组简洁总结

---

## What - 树状数组是什么？

树状数组（Binary Indexed Tree / BIT）是一种数据结构，用于高效计算前缀和。  
它可以在 **O(log n)** 时间内完成单点更新和前缀查询。

---

## Why - 为什么使用？

- **高效性：** 更新和查询操作都只需 **O(log n)** 时间。
- **简单易实现：** 仅需一个辅助数组，并利用二进制“低位”运算（lowbit）。
- **广泛应用：** 适用于动态数据统计、逆序对计数和在线查询等问题。

---

## How - 如何实现？

利用 `lowbit` 函数计算数值最低位：
```cpp
int lowbit(int x) {
    return x & -x;
}
```
构造辅助数组 tree[]，实现两大基本操作：

查询： 从索引 i 开始，不断累加 tree[i] 并更新 i -= lowbit(i) 直至 i == 0。

更新： 从索引 i 开始，增加 tree[i] 的值，再更新 i += lowbit(i) 以同步受影响区间。

### 总结：树状数组利用低位运算实现高效更新和前缀查询，是处理动态数据问题的利器。